This sample demonstrates how to retrieve contents from a webmap on ArcGIS Online that contains a dynamic map service with pop-ups. A set of attached properties on the Document class enable access to layer properties within a webmap.  This includes popup details provided as data templates via the PopupTemplates attached property.  The PopupTemplates property references a dictionary of data templates, one for each layer in a dynamic map service on which a popup was configured. Attribute values of features in layers within an ArcGIS dynamic map service can be used to populate the data template.  In this sample, a layer in an ArcGIS dynamic map service on which pop-ups are configured is queried upon click of the map.  If the query of the layer returns attributes, the attributes of the first feature are displayed in an InfoWindow whose content template is set to the data template for the popup.       