This sample demonstrates using data templates to define how map and sublayers are displayed within the Legend control. The Legend displays the symbology of specified layers with text explanations of what the symbols mean in a map an organized in a tree view hierarchy. The specific layers displayed in the Legend are controlled by what is specified in the LayersIDs Property.

In this sample, the behavior of the Legend control is transformed into an interactive table of contents where the user can change visibility and adjust the opacity of the layer. Adjusting the Legend control’s behavior is done by modifying the MapLayerTemplate and LayerTemplate Properties with a user defined DataTemplate. Creating a custom DataTemplate provides powerful flexibility in styling the Legend control to meet various needs.

The Refreshed event is handled to further alter how Legend contents are displayed. First, layer items in the Legend for all map layers and sublayers are collapsed.  Second, the sublayer named "states" is removed from the Legend.  It is still visible in the map.  The Refreshed event handler illustrates how to change the Legend in code behind, once Legend content is available.  